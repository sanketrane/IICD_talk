install.packages('tidyverse', 'cmdstan', 'rstan', dependencies = T)
install.packages('tidyverse', 'cmdstanr', 'rstan', dependencies = T)
install.packages('tidyverse', 'rstan', dependencies = T)
install.packages('tidyverse', dependencies = T)
install.packages("cmdstanr", repos = c("https://mc-stan.org/r-packages/", getOption("repos")))
install.packages("rstan", repos = "https://cloud.r-project.org/", dependencies = TRUE)
library(tidyverse)
Sys.getenv("RSTUDIO_PANDOC")
setwd("~/Desktop/Work/IICD_talk")
tibble::print.tbl_df
model_compare <- function(modelnamelist, looiclist, popln){
deltaloo_list <- looiclist - min(looiclist) # delta loo-ic
akaikewt_numerator <- function(x) exp(-0.5 * x) ## akaike wt
akaikewt_list <- sapply(deltaloo_list, akaikewt_numerator) * 100/sum(exp(- 0.5 * deltaloo_list))
export_table <- data.frame('Population' = c(as.character(popln),
rep('', length(modelnamelist) - 1)),
'Model' = modelnamelist,
'deltaloo' = round(deltaloo_list, 2),
'Akaike_wt' = round(akaikewt_list, 2))
colnames(export_table)[3:4] <-  c(paste0('\u0394', 'LooIC'),
paste0('Akaike weight ', '\u0025'))
return(export_table)
}
models_list1 <- c('Neutral', 'LIP', 'Density-dependent loss')
looic_cd4_loolist1 <- c(132.9, 134.5, 127.7)
looic_cd8_loolist1 <- c(153.0943, 139.9556, 145.4329)
cd4_table1 <- model_compare(models_list1, looic_cd4_loolist1, 'CD4')
cd8_table1 <- model_compare(models_list1, looic_cd8_loolist1, 'CD8')
knitr::kable(cd4_table1, "simple")
knitr::kable(cd4_table1, "html")
simple
knitr::kable(cd4_table1, "simple")
knitr::kable(cd4_table1, "html")
library('htmlTable')
htmlTable(as.matrix(df), col.rgroup = cols)
install.packages('htmltable', dependencies = T)
install.packages('htmlTable', dependencies = T)
## function for exporting a data table of delta loo ic values and akaike weights
#takes 2 separate lists of the name of the models and loo-ic values
model_compare <- function(modelnamelist, looiclist, popln){
deltaloo_list <- looiclist - min(looiclist) # delta loo-ic
akaikewt_numerator <- function(x) exp(-0.5 * x) ## akaike wt
akaikewt_list <- sapply(deltaloo_list, akaikewt_numerator) * 100/sum(exp(- 0.5 * deltaloo_list))
export_table <- data.frame('Population' = c(as.character(popln),
rep('', length(modelnamelist) - 1)),
'Model' = modelnamelist,
'deltaloo' = round(deltaloo_list, 2),
'Akaike_wt' = round(akaikewt_list, 2))
#colnames(export_table)[3:4] <-  c(paste0('\u0394', 'LooIC'),
#                                 paste0('Akaike weight ', '\u0025'))
return(export_table)
}
models_list1 <- c('Neutral', 'LIP', 'Density-dependent loss')
looic_cd4_loolist1 <- c(132.9, 134.5, 127.7)
looic_cd8_loolist1 <- c(153.0943, 139.9556, 145.4329)
cd4_table1 <- model_compare(models_list1, looic_cd4_loolist1, 'CD4')
cd8_table1 <- model_compare(models_list1, looic_cd8_loolist1, 'CD8')
cols <- with(cd4_table1, ifelse(Akaike_wt == 1, 'magenta', 'white'))
htmlTable::htmlTable(as.matrix(cd4_table1), altcol = cols,
rgroup = '', n.rgroup = rep(1, length(cols)))
htmlTable::htmlTable(as.matrix(cd4_table1), altcol = cols)
cols <- with(cd4_table1, ifelse(Akaike_wt >=90, 'magenta', 'white'))
htmlTable::htmlTable(as.matrix(cd4_table1), altcol = cols)
remove.packages('htmlTable')
install.packages('reactable')
reactable::reactable(cd4_table1)
reactable::reactable(cd4_table1,
columns = list(
Model = colDef(align = "left"))
)
reactable::reactable(cd4_table1,
columns = list(
Model = reactable::colDef(align = "left"))
)
## function for exporting a data table of delta loo ic values and akaike weights
#takes 2 separate lists of the name of the models and loo-ic values
model_compare <- function(modelnamelist, looiclist, popln){
deltaloo_list <- looiclist - min(looiclist) # delta loo-ic
akaikewt_numerator <- function(x) exp(-0.5 * x) ## akaike wt
akaikewt_list <- sapply(deltaloo_list, akaikewt_numerator) * 100/sum(exp(- 0.5 * deltaloo_list))
export_table <- data.frame('Population' = c(as.character(popln),
rep('', length(modelnamelist) - 1)),
'Model' = modelnamelist,
'deltaloo' = round(deltaloo_list, 2),
'Akaike_wt' = round(akaikewt_list, 2))
colnames(export_table)[3:4] <-  c(paste0('\u0394', 'LooIC'),
paste0('Akaike weight ', '\u0025'))
return(export_table)
}
models_list1 <- c('Neutral', 'LIP', 'Density-dependent loss')
looic_cd4_loolist1 <- c(132.9, 134.5, 127.7)
looic_cd8_loolist1 <- c(153.0943, 139.9556, 145.4329)
cd4_table1 <- model_compare(models_list1, looic_cd4_loolist1, 'CD4')
reactable::reactable(cd4_table1,
columns = list(
Model = reactable::colDef(align = "left"))#,
#rowStyle = function(i) {if (sleep[index, "extra"] < -1) {
# list(background = "rgba(0, 0, 0, 0.05)")
#}
#}
)
## function for exporting a data table of delta loo ic values and akaike weights
#takes 2 separate lists of the name of the models and loo-ic values
model_compare <- function(modelnamelist, looiclist){
deltaloo_list <- looiclist - min(looiclist) # delta loo-ic
akaikewt_numerator <- function(x) exp(-0.5 * x) ## akaike wt
akaikewt_list <- sapply(deltaloo_list, akaikewt_numerator) * 100/sum(exp(- 0.5 * deltaloo_list))
export_table <- data.frame('Model' = modelnamelist,
'deltaloo' = round(deltaloo_list, 2),
'Akaike_wt' = round(akaikewt_list, 2))
colnames(export_table)[3:4] <-  c(paste0('\u0394', 'LooIC'),
paste0('Akaike weight ', '\u0025'))
return(export_table)
}
models_list1 <- c('Neutral', 'LIP', 'Density-dependent loss')
looic_cd4_loolist1 <- c(132.9, 134.5, 127.7)
looic_cd8_loolist1 <- c(153.0943, 139.9556, 145.4329)
cd4_table1 <- model_compare(models_list1, looic_cd4_loolist1)
## function for exporting a data table of delta loo ic values and akaike weights
#takes 2 separate lists of the name of the models and loo-ic values
model_compare <- function(modelnamelist, looiclist){
deltaloo_list <- looiclist - min(looiclist) # delta loo-ic
akaikewt_numerator <- function(x) exp(-0.5 * x) ## akaike wt
akaikewt_list <- sapply(deltaloo_list, akaikewt_numerator) * 100/sum(exp(- 0.5 * deltaloo_list))
export_table <- data.frame('Model' = modelnamelist,
'deltaloo' = round(deltaloo_list, 2),
'Akaike_wt' = round(akaikewt_list, 2))
colnames(export_table)[2:3] <-  c(paste0('\u0394', 'LooIC'),
paste0('Akaike weight ', '\u0025'))
return(export_table)
}
models_list1 <- c('Neutral', 'LIP', 'Density-dependent loss')
looic_cd4_loolist1 <- c(132.9, 134.5, 127.7)
looic_cd8_loolist1 <- c(153.0943, 139.9556, 145.4329)
cd4_table1 <- model_compare(models_list1, looic_cd4_loolist1)
cd8_table1 <- model_compare(models_list1, looic_cd8_loolist1, 'CD8')
cd8_table1 <- model_compare(models_list1, looic_cd8_loolist1)
reactable::reactable(cd4_table1,
columns = list(
Model = reactable::colDef(align = "left"))#,
#rowStyle = function(i) {if (sleep[index, "extra"] < -1) {
# list(background = "rgba(0, 0, 0, 0.05)")
#}
#}
)
paste0('\u0394', 'LooIC')
cd4_table1 %>%
kable(booktabs = T) %>%
kable_styling() %>%
row_spec(which(cd4_table1$ΔLooIC == 0), bold = T, color = "white", background = "orange")
library(tidyverse)
cd4_table1 %>%
kable(booktabs = T) %>%
kable_styling() %>%
row_spec(which(cd4_table1$ΔLooIC == 0), bold = T, color = "white", background = "orange")
## function for exporting a data table of delta loo ic values and akaike weights
#takes 2 separate lists of the name of the models and loo-ic values
library(kableExtra)
cd4_table1 %>%
kable(booktabs = T) %>%
kable_styling() %>%
row_spec(which(cd4_table1$ΔLooIC == 0), bold = T, color = "white", background = "orange")
cd4_table1 %>%
kable(booktabs = T) %>%
kable_styling() %>%
row_spec(which(cd4_table1$ΔLooIC == 0), bold = T, color = "white", background = "skyblue")
cd4_table1 %>%
kable(booktabs = T) %>%
kable_styling() %>%
row_spec(which(cd4_table1$ΔLooIC == 0), bold = T, color = "white", background = "navy")
setwd("~/Desktop/Work")
setwd("~/Desktop/Work/IICD_talk")
plot(seq(1, 10), col="#FDE4E0")
plot(seq(1, 10))
